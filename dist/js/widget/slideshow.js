!function(a,b,c){"function"==typeof define&&define.amd?define(c):"undefined"!=typeof module&&module.exports?module.exports=c():b[a]=c()}("Slideshow",this,function(){var a=function(a){this.target=a,this.runner=a.children[0],this.frames=a.children[0].children,this.current||this._init()};return a.prototype._init=function(){var a=this;this.current=0,this.maximum=this.frames.length-1,this.btnNext=document.createElement("button"),this.btnPrev=document.createElement("button"),this.btnNext.type=this.btnPrev.type="button",this.btnNext.className="next",this.btnPrev.className="prev",this.btnNext.innerHTML="Next slide",this.btnPrev.innerHTML="Previous slide",this.btnNext.onclick=function(){a.to(a.current+1)},this.btnPrev.onclick=function(){a.to(a.current-1)},this.target.appendChild(this.btnNext),this.target.appendChild(this.btnPrev),this.keyupHandler=function(b){switch(b.keyCode){case 37:a.to(a.current-1);break;case 39:a.to(a.current+1)}},this.target.addEventListener?this.target.addEventListener("keyup",this.keyupHandler,!0):this.target.attachEvent("onkeyup",this.keyupHandler),this.to(this.current)},a.prototype._loop=function(a){return a>this.maximum?a=0:0>a&&(a=this.maximum),a},a.prototype.to=function(a){a=this._loop(a),this.frames[a]&&(this.before=this._loop(a-1),this.current=a,this.after=this._loop(a+1),this._update())},a.prototype._update=function(){for(var a=" is-before ",b=" is-current ",c=" is-after ",d=/is\-before|is\-current|is\-after/g,e=0,f=this.frames.length;f>e;e++)this.frames[e].className=this.frames[e].className.replace(d,"");this.frames[this.before].className+=a,this.frames[this.current].className+=b,this.frames[this.after].className+=c},a.prototype.teardown=function(){this.target.removeChild(this.btnNext),this.target.removeChild(this.btnPrev),this.target.removeEventListener?this.target.removeEventListener("keyup",this.keyupHandler,!0):this.target.detachEvent("onkeyup",this.keyupHandler),delete this.after,delete this.before,delete this.current,delete this.btnNext,delete this.btnPrev},a});